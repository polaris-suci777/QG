<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>login</title>
    <link href="css/login.css" rel="stylesheet">
</head>

<body>
<div id="loginDiv">
    <form action="/weekfourdemo/loginServlet" method="post" id="form">
        <h1 id="loginMsg">LOGIN IN</h1>
        <p>Username:<input id="username" name="username" type="text"></p>

        <p>Password:<input id="password" name="password" type="password"></p>

        <div id="subDiv">
            <input type="submit" class="button" value="login up">
            <input type="reset" class="button" value="reset">&nbsp;&nbsp;&nbsp;
            <a href="register.html">没有账号？点击注册</a>
        </div>
    </form>
</div>


<script>
    $('#loginBtn').click(function() {
        var username = $('#username').val();
        var password = $('#password').val();
        $.ajax({
            url: 'loginServlet', // Servlet的映射路径
            type: 'POST',
            data: {
                username: username,
                password: password
            },
            success: function(response) {
                // 处理成功响应
                if (response.success) {
                    alert("登录成功");
                    // 这里可以添加其他逻辑，比如跳转到另一个页面
                } else {
                    alert("登录失败");
                    // 处理后端返回的具体错误信息
                }
            },

        });
    });
</script>

</body>
</html>